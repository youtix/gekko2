# Trader Plugin

The **Trader** plugin is what turns Gekko into a fully automated trading bot.

It listens for advice generated by the [Trading Advisor](./trading-advisor.md) and routes orders through the exchange connection you configure. In other words, while the Trading Advisor decides **what to do**, the Trader plugin actually **executes** those decisions—whether that means simulating trades via the dummy exchange or placing real orders on a live account.

## API Keys Required

To allow Gekko to trade on your behalf, you must provide API credentials from your exchange. These keys give Gekko the necessary permissions to:

- Fetch balance and portfolio
- Retrieve market data
- Place buy/sell orders
- Cancel existing orders
- View open orders
- Estimate fees

Most exchanges require an **API key** and **API secret**. When running against the dummy exchange (`dummy-cex`), no API keys are required.

> ⚠️ Be sure to enable the required permissions and never enable withdrawal access.

> ⚠️ Keep your API keys secure. Never share them and avoid committing them to version control.

## Configuration

In your configuration file, under the `plugins` section, you can configure the Trader plugin like this:

```yaml
plugins:
  - name: Trader # Must be set to Trader. This enables automated order execution based on strategy advice.
```

The Trader plugin does not require any additional custom parameters in the plugin block itself, but it relies on a properly configured exchange section to place real trades:

```yaml
# Example: live trading on a production exchange
exchange:
  name: binance # Name of the exchange.
  key: <your_api_key> # Your exchange API key.
  secret: <your_api_secret> # Your exchange API secret.

# Example: sandbox trading on an exchange-provided test environment
# exchange:
#   name: binance
#   sandbox: true # Enable sandbox/testnet mode so Gekko uses the exchange's paper environment.
#   key: <your_sandbox_key>
#   secret: <your_sandbox_secret>

# Example: local paper trading with Gekko's dummy exchange
# exchange:
#   name: dummy-cex

```

> ⚠️ Important: You must also include this line at the end of your configuration to enable live trading:

```yaml
[I understand that Gekko only automates MY OWN trading strategies]: true
```
Without this line, Gekko will not activate the `Trader` plugin in realtime mode.

## Events Emitted

The **Trader** plugin emits a number of events during live trading. These events are consumed by other parts of the Gekko system (e.g. EventSubscriber, UI, logger, analytics).

| Event                          | Description                                                                 |
|--------------------------------|-----------------------------------------------------------------------------|
| `PORTFOLIO_CHANGE_EVENT`       | Emitted when the asset or currency amount in the portfolio changes.         |
| `PORTFOLIO_VALUE_CHANGE_EVENT` | Emitted when the total portfolio value changes due to price or position.    |
| `TRADE_INITIATED_EVENT`        | Emitted when a trade is about to be placed on the market.                   |
| `TRADE_ABORTED_EVENT`          | Emitted when a trade is rejected due to portfolio constraints.              |
| `TRADE_CANCELED_EVENT`         | Emitted after a pending order is canceled before completion.                |
| `TRADE_COMPLETED_EVENT`        | Emitted when an order is fully filled and executed successfully.            |
| `TRADE_ERRORED_EVENT`          | Emitted when an error occurs during order execution.                        |
